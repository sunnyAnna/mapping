define(["./es6-promise"],function(a){function b(a){return"object"==typeof window.google&&"undefined"!=typeof window.google.maps?Promise.resolve(window.google.maps):new Promise(function(b,c){window.__google_maps_callback__=function(){if(window.google.maps){var a=window.google.maps;return b(a),a}return c("no gmaps object!")};var d=document.createElement("script");return d.type="text/javascript",d.async=!0,d.src=a,document.body.appendChild(d)})}return a.polyfill(),{load:function(a,c,d,e){var f=e||{},g=c.toUrl(a).split("?")[0],h=f.gmaps.parameters,i=["callback=__google_maps_callback__"];if(f.isBuild)return void d(null);for(var j in h)h.hasOwnProperty(j)&&null!==h[j]&&i.push(j+"="+h[j]);return g+="?"+i.join("&"),b(g).then(function(a){return d(a)}).catch(function(a){return d.error(a)})}}});